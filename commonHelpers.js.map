{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_nOdnL3Dj9jjF4zVLjteozldoqmiVUxxCRsrlPoRVyonLQDm4DFuaUNiaRzafsnXC';\n\n/**\n * Makes a call to get an array of cat breed objects in a promise\n * @returns Promise<AxiosResponse<any, any>>\n */\nexport async function fetchBreeds() {\n  return axios.get('https://api.thecatapi.com/v1/breeds');\n}\n\n/**\n * Makes a call to get detailed cat info by its breed_ids\n * @param {string} breed_ids\n * @returns Promise<AxiosResponse<any, any>>\n */\nexport async function fetchCatByBreed(breed_ids) {\n  return axios.get('https://api.thecatapi.com/v1/images/search?', {\n    params: { breed_ids },\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport Choices from 'choices.js';\nimport 'choices.js/public/assets/styles/choices.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst selectors = {\n  loader: document.querySelector('.loader'),\n  catInfo: document.querySelector('.cat-info'),\n  select: document.querySelector('.breed-select'),\n};\n\nconst toastOptions = {\n  class: 'promisesToast',\n  position: 'topRight',\n  close: false,\n  timeout: 3000,\n};\n\n/**\n * IIFE function, adds options to select UI element on page load\n */\n(() => {\n  fetchBreeds()\n    .then(res => {\n      selectors.select.classList.remove('hide');\n\n      const markUp = res.data\n        .map(({ id, name }) => {\n          return `\n    <option value=${id}>${name}</option>\n  `;\n        })\n        .join('');\n\n      selectors.select.insertAdjacentHTML('afterbegin', markUp);\n      new Choices(selectors.select, {\n        searchEnabled: true,\n      });\n    })\n    .catch(() => {\n      iziToast.error({\n        message: `❌ Oops! Something went wrong! Try reloading the page!`,\n        ...toastOptions,\n      });\n    })\n    .finally(() => {\n      selectors.loader.classList.add('hide');\n    });\n})();\n\nselectors.select.addEventListener('change', handlerSelect);\n\nfunction handlerSelect() {\n  selectors.catInfo.classList.add('hide');\n  selectors.loader.classList.remove('hide');\n\n  fetchCatByBreed(selectors.select.value)\n    .then(res => {\n      const [\n        {\n          url,\n          breeds: [{ name, description, temperament }],\n        },\n      ] = res.data;\n\n      const markUp = `\n        <img src=\"${url}\" alt=\"${name}\">\n        <div class=\"cat-info-text\">\n        <h2>${name}</h2>\n        <p>${description}</p>\n        <p><span>Temperament</span>: ${temperament}</p>\n        </div>\n        `;\n      selectors.catInfo.innerHTML = markUp;\n    })\n    .catch(() => {\n      iziToast.error({\n        message: `❌ Oops! Something went wrong! Try reloading the page!`,\n        ...toastOptions,\n      });\n    })\n    .finally(() => {\n      selectors.catInfo.classList.remove('hide');\n      selectors.loader.classList.add('hide');\n    });\n}\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breed_ids","selectors","toastOptions","res","markUp","id","name","Choices","iziToast","handlerSelect","url","description","temperament"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAMK,eAAeC,GAAc,CAClC,OAAOD,EAAM,IAAI,qCAAqC,CACxD,CAOO,eAAeE,EAAgBC,EAAW,CAC/C,OAAOH,EAAM,IAAI,8CAA+C,CAC9D,OAAQ,CAAE,UAAAG,CAAW,CACzB,CAAG,CACH,CChBA,MAAMC,EAAY,CAChB,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,eAAe,CAChD,EAEMC,EAAe,CACnB,MAAO,gBACP,SAAU,WACV,MAAO,GACP,QAAS,GACX,EAMEJ,EAAa,EACV,KAAKK,GAAO,CACXF,EAAU,OAAO,UAAU,OAAO,MAAM,EAExC,MAAMG,EAASD,EAAI,KAChB,IAAI,CAAC,CAAE,GAAAE,EAAI,KAAAC,KACH;AAAA,oBACGD,CAAE,IAAIC,CAAI;AAAA,GAErB,EACA,KAAK,EAAE,EAEVL,EAAU,OAAO,mBAAmB,aAAcG,CAAM,EACxD,IAAIG,EAAQN,EAAU,OAAQ,CAC5B,cAAe,EACvB,CAAO,CACP,CAAK,EACA,MAAM,IAAM,CACXO,EAAS,MAAM,CACb,QAAS,wDACT,GAAGN,CACX,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbD,EAAU,OAAO,UAAU,IAAI,MAAM,CAC3C,CAAK,EAGLA,EAAU,OAAO,iBAAiB,SAAUQ,CAAa,EAEzD,SAASA,GAAgB,CACvBR,EAAU,QAAQ,UAAU,IAAI,MAAM,EACtCA,EAAU,OAAO,UAAU,OAAO,MAAM,EAExCF,EAAgBE,EAAU,OAAO,KAAK,EACnC,KAAKE,GAAO,CACX,KAAM,CACJ,CACE,IAAAO,EACA,OAAQ,CAAC,CAAE,KAAAJ,EAAM,YAAAK,EAAa,YAAAC,CAAW,CAAE,CAC5C,CACT,EAAUT,EAAI,KAEFC,EAAS;AAAA,oBACDM,CAAG,UAAUJ,CAAI;AAAA;AAAA,cAEvBA,CAAI;AAAA,aACLK,CAAW;AAAA,uCACeC,CAAW;AAAA;AAAA,UAG5CX,EAAU,QAAQ,UAAYG,CACpC,CAAK,EACA,MAAM,IAAM,CACXI,EAAS,MAAM,CACb,QAAS,wDACT,GAAGN,CACX,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbD,EAAU,QAAQ,UAAU,OAAO,MAAM,EACzCA,EAAU,OAAO,UAAU,IAAI,MAAM,CAC3C,CAAK,CACL"}